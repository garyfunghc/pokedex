(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7281)}])},7281:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(4051),a=n.n(r),s=n(5893),c=n(7294),i={pokeApi:{url:"https://pokeapi.co/api/v2",cache:!0,limit:2e3}},o=n(9669),u=n.n(o),l=n(2568),f=n.n(l);function d(e,t,n,r,a,s,c){try{var i=e[s](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){d(s,r,a,c,i,"next",e)}function i(e){d(s,r,a,c,i,"throw",e)}c(void 0)}))}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}var t=e.prototype;return t.getFromCache=function(e){return sessionStorage&&null!=e&&null!=sessionStorage.getItem(f()(e))?sessionStorage.getItem(f()(e)):""},t.setToCache=function(e,t){sessionStorage&&sessionStorage.setItem(f()(e),t)},t.getAllPokemons=function(){var e=this;return m(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPokemons(0,9999);case 2:return n=t.sent,t.abrupt("return",n.results);case 4:case"end":return t.stop()}}),t)})))()},t.getPokemons=function(e,t){var n=this;return m(a().mark((function r(){var s,c,i,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s="".concat(n.config.url,"/pokemon?limit=").concat(t||n.config.limit,"&offset=").concat(e),!n.config.cache||""==n.getFromCache(s)){r.next=5;break}if(null==(c=n.getFromCache(s))){r.next=5;break}return r.abrupt("return",JSON.parse(c));case 5:return i=u().get(s),r.next=8,i;case 8:return o=r.sent.data,n.config.cache&&n.setToCache(s,JSON.stringify(o)),r.abrupt("return",o);case 11:case"end":return r.stop()}}),r)})))()},t.getPokemon=function(e){var t=this;return m(a().mark((function n(){var r,s,c,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="".concat(t.config.url,"/pokemon/").concat(e),!t.config.cache||""==t.getFromCache(r)){n.next=5;break}if(null==(s=t.getFromCache(r))){n.next=5;break}return n.abrupt("return",JSON.parse(s));case 5:return c=u().get("".concat(t.config.url,"/pokemon/").concat(e)),n.next=8,c;case 8:return i=n.sent.data,t.config.cache&&t.setToCache(r,JSON.stringify({name:i.name,id:i.id,sprites:{front_default:i.sprites.front_default,other:{"official-artwork":{front_default:i.sprites.other["official-artwork"].front_default}}},types:i.types,stats:i.stats})),n.abrupt("return",i);case 11:case"end":return n.stop()}}),n)})))()},e}(),p=n(9008),v=n.n(p),_=n(7160),g=n.n(_),x=function(e){var t=e.children;return(0,s.jsxs)("div",{className:g().container,children:[(0,s.jsxs)(v(),{children:[(0,s.jsx)("title",{children:"PokeDex App"}),(0,s.jsx)("meta",{name:"description",content:"PokeDex Generated by create next app"})]}),(0,s.jsx)("main",{className:g().main,children:t})]})},y=n(5687),k=n.n(y),j=n(9055),b=n.n(j);function A(e,t,n,r,a,s,c){try{var i=e[s](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,a)}var w=new h(i.pokeApi),S=function(e){var t=e.name,n=e.displayPokemonId,r=e.handleShowPokemon,i=(0,c.useState)(null),o=i[0],u=i[1],l=(0,c.useState)(!1),f=(l[0],l[1]),d=function(){var e,t=(e=a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,w.getPokemon(t);case 4:n=e.sent,u(n),f(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),f(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){A(s,r,a,c,i,"next",e)}function i(e){A(s,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){o||d(t)}),[t]),(0,s.jsxs)("div",{className:b().cardContainer,children:[o&&o.id&&o.sprites&&(0,s.jsxs)("div",{onClick:function(){return r(o)},className:"".concat(b().card," ").concat(n===o.id?b().cardActive:""),style:{backgroundColor:k()(o.types)},children:[(0,s.jsx)("div",{className:b().thumbnail,children:(0,s.jsx)("img",{src:o.sprites.front_default})}),(0,s.jsx)("div",{className:b().name,children:o.name})]}),(!o||!o.id)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{children:"Loading..."}),(0,s.jsx)("img",{className:b().placeholder,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII="})]})]})};function C(e,t){return e.toString().length<t?C("0"+e,t):e}var N=n(567),I=n.n(N),O=function(e){var t=e.pokemon,n=e.faviourite,r=e.handleFavorite;return(0,s.jsx)("div",{className:I().container,children:t&&t.id&&t.sprites&&t.stats?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:I().background,style:{backgroundColor:k()(t?t.types:"")},children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{children:["#",C(t.id,3)]}),(0,s.jsxs)("div",{className:I().name,children:[(0,s.jsx)("img",{src:"/pokedex/star.png",className:"".concat(I().favIcon," ").concat(n?I().favIconActive:"")}),t.name]})]})}),(0,s.jsxs)("div",{className:I().statsContainer,children:[(0,s.jsx)("div",{className:I().thumbnail,onClick:function(){r(t.name)},children:(0,s.jsx)("img",{src:t.sprites.other["official-artwork"].front_default})}),(0,s.jsxs)("div",{className:I().stats,children:[(0,s.jsx)("div",{className:I().statTitle,children:"Base Stats"}),(0,s.jsx)("div",{className:I().statList,children:t.stats.map((function(e){return(0,s.jsxs)("div",{className:I().statItem,children:[(0,s.jsx)("div",{className:I().statName,children:e.stat.name.toUpperCase()}),(0,s.jsx)("div",{className:I().statValue,style:{width:"".concat(e.base_stat,"%"),backgroundColor:k()(e.stat.name)},children:e.stat.name.toUpperCase()})]},e.stat.name)}))})]})]})]}):""})};function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,a,s,c){try{var i=e[s](c),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function c(e){H(s,r,a,c,i,"next",e)}function i(e){H(s,r,a,c,i,"throw",e)}c(void 0)}))}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}function L(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=new h(i.pokeApi),F=function(e){var t=e.pokemons,n=(0,c.useState)({offset:0,displayPokemonId:0,searchOn:!1,displayOffset:0,displayLimit:5,searchText:"",searchSuggest:{}}),r=n[0],i=n[1],o=[];o=JSON.parse(localStorage.getItem("favouriteList")||"[]");var u=(0,c.useState)(o),l=u[0],f=u[1],d=(0,c.useState)(t),m=d[0],h=d[1],p=(0,c.useState)({}),v=p[0],_=p[1],y=(0,c.useState)(!1),k=y[0],j=y[1],b=(0,c.useRef)(document.createElement("div")),A=(0,c.useRef)(document.createElement("input")),w=function(){var e=D(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,B.getAllPokemons();case 4:t=e.sent,h(m||t),j(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),j(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=D(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,B.getPokemon(t);case 4:n=e.sent,_(n),j(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),j(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){if(m||w(),null!=b){var e=Math.ceil(b.current.clientWidth/100);i(E({},r,{displayLimit:e}))}}),[r.displayOffset]);var N=function(e){C(e)},I=function(e){i(E({},r,{displayPokemonId:e.id})),b.current.scroll({left:100*(e.id-1)-50,behavior:"smooth"}),_(e)};return(0,s.jsx)(x,{children:(0,s.jsxs)("div",{className:g().container,children:[(0,s.jsxs)("div",{className:"".concat(g().searchBar," ").concat(r.searchOn?g().searchBarActive:""),children:[(0,s.jsx)("input",{className:g().searchInput,ref:A,onKeyDown:function(e){var t=e.which||e.keyCode;9===t&&r.searchSuggest&&i(E({},r,{searchText:r.searchSuggest.name})),13===t&&r.searchSuggest&&(i(E({},r,{searchText:r.searchSuggest.name,searchOn:!1})),N(r.searchSuggest.name))},onChange:function(e){var t,n=e.target.value;e.which||e.keyCode;if(n.length>0)for(var a=0;a<m.length;a++)if(0===m[a].name.indexOf(n)){t=m[a],i(E({},r,{searchText:n,searchSuggest:t}));break}},value:r.searchText}),(0,s.jsx)("div",{className:g().searchSuggest,children:r.searchSuggest.name}),(0,s.jsx)("div",{className:g().searchIcon,onClick:function(){r.searchOn&&r.searchSuggest?N(r.searchSuggest.name):A.current.focus(),i(E({},r,{searchOn:!r.searchOn}))}})]}),(0,s.jsxs)("div",{className:g().detail,children:[v.name&&(0,s.jsx)(O,{pokemon:v,handleFavorite:function(e){l.includes(e)?f(l.filter((function(t){return t!==e}))):(l.push(e),f(L(l)),localStorage.setItem("favouriteList",JSON.stringify(l)))},faviourite:l.includes(v.name)}),!v.name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:g().title,children:"PokeDex"}),(0,s.jsx)("div",{className:g().subtitle,children:"@ Gary Fung"})]})]}),(0,s.jsx)("div",{className:g().menu,ref:b,onScroll:function(e){e.target.scrollLeft===e.target.scrollWidth-e.target.clientWidth&&i(E({},r,{displayOffset:r.displayOffset+r.displayLimit}))},children:(0,s.jsx)("div",{className:g().scrollContainer,children:m&&m.map((function(e,t){if(r.displayOffset+r.displayLimit>t)return(0,s.jsx)(S,{name:e.name,displayPokemonId:r.displayPokemonId,handleShowPokemon:I},t)}))})}),(0,s.jsx)("div",{className:g().content,children:k&&(0,s.jsx)("div",{children:"Loading..."})})]})})}},9055:function(e){e.exports={cardContainer:"Card_cardContainer__tYUGU",placeholder:"Card_placeholder__HHW_4",card:"Card_card__QH1mK",cardActive:"Card_cardActive__tY8Pu",thumbnail:"Card_thumbnail___LyrL",name:"Card_name__rGm5j",num:"Card_num__8rIXC"}},567:function(e){e.exports={background:"Detail_background__vqfiH",name:"Detail_name__h2fb2",favIcon:"Detail_favIcon__WabiJ",favIconActive:"Detail_favIconActive__8DClN",thumbnail:"Detail_thumbnail___gQ_Y",statTitle:"Detail_statTitle__dLCsJ",statItem:"Detail_statItem__m8IzP",statValue:"Detail_statValue__H0lXw",statsContainer:"Detail_statsContainer__l2rsW",stats:"Detail_stats__Aanwj"}},7160:function(e){e.exports={main:"Home_main__nLjiQ",constainer:"Home_constainer__YvVPZ",title:"Home_title__T09hD",subtitle:"Home_subtitle__j4GMd",content:"Home_content__Zy02X",menu:"Home_menu__2ncGe",scrollContainer:"Home_scrollContainer__AW9Ml",searchBar:"Home_searchBar__L3tSX",searchBarActive:"Home_searchBarActive__RHZu5",searchInput:"Home_searchInput___KTJf",searchSuggest:"Home_searchSuggest__BvIMQ",searchIcon:"Home_searchIcon__r6BV9"}}},function(e){e.O(0,[104,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);